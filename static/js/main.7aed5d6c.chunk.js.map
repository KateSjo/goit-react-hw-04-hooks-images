{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.scss","components/Button/Button.module.scss","components/Modal/Modal.module.scss","components/Searchbar/Searchbar.module.scss","components/ImageGallery/ImageGallery.module.scss","components/Loader/Loader.module.scss","components/Message/Message.module.scss","components/IconButton/IconButton.module.scss","components/SearchForm/SearchForm.module.scss","App.module.scss","components/SearchForm/SearchForm.jsx","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Loader/Loader.jsx","components/Message/Message.jsx","components/Modal/Modal.jsx","components/IconButton/IconButton.jsx","assets/images/icons/close.svg","api/api-services.js","App.jsx","index.js"],"names":["module","exports","SearchFrom","onSearch","useState","query","setQuery","resetForm","className","styles","SearchForm","onSubmit","e","preventDefault","trim","type","name","value","onChange","currentTarget","autoComplete","autoFocus","placeholder","Searchbar","ImageGalleryItem","image","onImageClick","src","webformatURL","alt","tags","onClick","largeImageURL","defaultProps","ImageGallery","images","map","id","Button","Loader","color","height","width","Message","children","modalRoot","document","querySelector","Modal","onClose","useEffect","window","addEventListener","handleKeyDown","removeEventListener","event","code","createPortal","Overlay","target","IconButton","allyProps","_path","_extends","Object","assign","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgClose","_ref","svgRef","title","titleId","props","xmlns","viewBox","ref","d","ForwardRef","axios","defaults","baseURL","fetchImages","currentPage","a","get","data","App","setImages","setPage","searchQuery","isLoading","setLoading","showModal","setModal","largeImage","setlargeImage","error","setError","getImages","hits","prev","prevPage","scrollOnLoadButton","console","log","toggleModal","prevModal","scrollTo","top","documentElement","scrollHeight","behavior","needToShowLoadMore","fullImageUrl","fill","href","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.7aed5d6c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1QXEA\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__3X0AL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button-wrapper\":\"Button_Button-wrapper__1G7BJ\",\"Button\":\"Button_Button__3K5-2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3LHYl\",\"Modal\":\"Modal_Modal__2FdOu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__u5DN9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1863-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__1zqvR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Message\":\"Message_Message__1gCWX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"IconButton\":\"IconButton_IconButton__2iFsZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchForm\":\"SearchForm_SearchForm__1N7bo\",\"SearchForm-button\":\"SearchForm_SearchForm-button__RN3tE\",\"SearchForm-button-label\":\"SearchForm_SearchForm-button-label__xfFCE\",\"SearchForm-input\":\"SearchForm_SearchForm-input__12LwD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__zw5xK\"};","import { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './SearchForm.module.scss';\r\n\r\nconst SearchFrom = ({ onSearch }) => {\r\n  const [query, setQuery] = useState('');\r\n\r\n  // Наблюдает за инпутом и пишет значние в стейт\r\n  const handleSearchInput = e => {\r\n    const { value } = e.currentTarget;\r\n\r\n    setQuery(value);\r\n  };\r\n\r\n  // Наблюдает за отправкой и отдает значение во внешний компонент\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    // Запрещает отправку пустого инпута\r\n    if (!query.trim()) return;\r\n\r\n    // Отдать данные внешнему компоненту\r\n    onSearch(query);\r\n\r\n    resetForm();\r\n  };\r\n\r\n  // Сбрасывает поле после отправки\r\n  const resetForm = () => setQuery('');\r\n\r\n  return (\r\n    <form className={styles.SearchForm} onSubmit={handleSubmit}>\r\n      <button type=\"submit\" className={styles['SearchForm-button']}>\r\n        <span className={styles['SearchForm-button-label']}>Search</span>\r\n      </button>\r\n\r\n      <input\r\n        className={styles['SearchForm-input']}\r\n        type=\"text\"\r\n        name=\"query\"\r\n        value={query}\r\n        onChange={handleSearchInput}\r\n        autoComplete=\"off\"\r\n        autoFocus\r\n        placeholder=\"Search images and photos\"\r\n      />\r\n    </form>\r\n  );\r\n};\r\n\r\nSearchFrom.propTypes = {\r\n  onSearch: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default SearchFrom;","import PropTypes from 'prop-types';\r\nimport SearchFrom from '../SearchForm';\r\n\r\nimport styles from './Searchbar.module.scss';\r\n\r\nconst Searchbar = ({ onSearch }) => (\r\n  <header className={styles.Searchbar}>\r\n    <SearchFrom onSearch={onSearch} />\r\n  </header>\r\n);\r\n\r\nSearchbar.propTypes = {\r\n  onSearch: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Searchbar;","import PropTypes from 'prop-types';\r\nimport styles from './ImageGalleryItem.module.scss';\r\n\r\nconst ImageGalleryItem = ({ image, onImageClick }) => {\r\n  const fullImage = () => onImageClick(image.largeImageURL);\r\n\r\n  return (\r\n    <li className={styles.ImageGalleryItem}>\r\n      <img\r\n        src={image.webformatURL}\r\n        alt={image.tags}\r\n        className={styles['ImageGalleryItem-image']}\r\n        onClick={fullImage}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.defaultProps = {\r\n  tags: '',\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  image: PropTypes.shape({\r\n    webformatURL: PropTypes.string.isRequired,\r\n    largeImageURL: PropTypes.string.isRequired,\r\n    tags: PropTypes.string,\r\n  }),\r\n  onImageClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;","import PropTypes from 'prop-types';\r\nimport ImageGalleryItem from '../ImageGalleryItem';\r\nimport styles from './ImageGallery.module.scss';\r\n\r\nconst ImageGallery = ({ images, onImageClick }) => (\r\n  <ul className={styles.ImageGallery}>\r\n    {images.map(image => {\r\n      return (\r\n        <ImageGalleryItem\r\n          key={image.id}\r\n          image={image}\r\n          onImageClick={onImageClick}\r\n        />\r\n      );\r\n    })}\r\n  </ul>\r\n);\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n    }),\r\n  ),\r\n  onImageClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;","import PropTypes from 'prop-types';\r\nimport styles from './Button.module.scss';\r\n\r\nconst Button = ({ onClick }) => (\r\n  <div className={styles['Button-wrapper']}>\r\n    <button type=\"button\" className={styles.Button} onClick={onClick}>\r\n      Load more\r\n    </button>\r\n  </div>\r\n);\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;","import Template from 'react-loader-spinner';\r\n\r\nimport styles from './Loader.module.scss';\r\n\r\nconst Loader = () => (\r\n  <div className={styles.Loader}>\r\n    <Template type=\"ThreeDots\" color=\"#3f51b5\" height={100} width={100} />\r\n  </div>\r\n);\r\n\r\nexport default Loader;","import PropTypes from 'prop-types';\r\nimport styles from './Message.module.scss';\r\n\r\nconst Message = ({ children }) => (\r\n  <div className={styles.Message}>{children}</div>\r\n);\r\n\r\nMessage.defaultProps = {\r\n  children: [],\r\n};\r\n\r\nMessage.propTypes = {\r\n  children: PropTypes.node,\r\n};\r\n\r\nexport default Message;","import { createPortal } from 'react-dom';\r\nimport { useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport styles from './Modal.module.scss';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nconst Modal = ({ children, onClose }) => {\r\n  // Вешает слушатели (mount)\r\n  useEffect(() => {\r\n    window.addEventListener('keydown', handleKeyDown);\r\n\r\n    // Убирает слушатети (unmount)\r\n    return () => {\r\n      window.removeEventListener('keydown', handleKeyDown);\r\n    };\r\n  });\r\n\r\n  // Наблюдает на Escape и закрывает модалку\r\n  const handleKeyDown = event => {\r\n    if (event.code === 'Escape') {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  // Наблюдает за бекдропом и закрывает модалку\r\n  const handleBackdropClick = event => {\r\n    if (event.currentTarget === event.target) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  return createPortal(\r\n    <div className={styles.Overlay} onClick={handleBackdropClick}>\r\n      <div className={styles.Modal}>{children}</div>\r\n    </div>,\r\n    modalRoot,\r\n  );\r\n};\r\n\r\nModal.defaultProps = {\r\n  children: null,\r\n};\r\n\r\nModal.propTypes = {\r\n  children: PropTypes.node,\r\n  onClose: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Modal;","import PropTypes from 'prop-types';\r\n\r\nimport styles from './IconButton.module.scss';\r\n\r\nconst IconButton = ({ children, onClick, ...allyProps }) => (\r\n  <button\r\n    type=\"button\"\r\n    className={styles.IconButton}\r\n    onClick={onClick}\r\n    {...allyProps}\r\n  >\r\n    {children}\r\n  </button>\r\n);\r\n\r\nIconButton.defaultProps = {\r\n  onClick: () => null,\r\n  children: null,\r\n};\r\n\r\nIconButton.propTypes = {\r\n  onClick: PropTypes.func,\r\n  children: PropTypes.node,\r\n  'aria-label': PropTypes.string.isRequired,\r\n};\r\n\r\nexport default IconButton;","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgClose(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 41.756 41.756\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M27.948 20.878L40.291 8.536a5 5 0 10-7.07-7.071L20.878 13.809 8.535 1.465a5 5 0 00-7.07 7.071l12.342 12.342L1.465 33.22a5 5 0 107.07 7.071l12.343-12.342 12.343 12.343c.976.977 2.256 1.464 3.535 1.464s2.56-.487 3.535-1.464a5 5 0 000-7.071L27.948 20.878z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgClose);\nexport default __webpack_public_path__ + \"static/media/close.d02651e3.svg\";\nexport { ForwardRef as ReactComponent };","import axios from 'axios';\r\nconst API_KEY = '21255854-31bcf5c415a33cbe729d04b4b';\r\naxios.defaults.baseURL = 'https://pixabay.com/api';\r\n\r\nconst fetchImages = async (query, currentPage) => {\r\n  const { data } = await axios.get(\r\n    `/?q=${query}&page=${currentPage}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n  );\r\n\r\n  return data;\r\n};\r\n\r\nexport default fetchImages;","import { useState, useEffect } from 'react';\r\n\r\nimport Searchbar from './components/Searchbar';\r\nimport ImageGallery from './components/ImageGallery';\r\nimport Button from './components/Button';\r\nimport Loader from './components/Loader';\r\nimport Message from './components/Message';\r\nimport Modal from './components/Modal';\r\nimport IconButton from './components/IconButton';\r\nimport { ReactComponent as CloseIcon } from './assets/images/icons/close.svg';\r\n\r\nimport fetchImages from './api/api-services';\r\n\r\nconst App = () => {\r\n  const [images, setImages] = useState([]);\r\n  const [currentPage, setPage] = useState(1);\r\n  const [searchQuery, setQuery] = useState('');\r\n  const [isLoading, setLoading] = useState(false);\r\n  const [showModal, setModal] = useState(false);\r\n  const [largeImage, setlargeImage] = useState('');\r\n  const [error, setError] = useState(null);\r\n\r\n  // Запрос за картинками при обновлении инпута\r\n  useEffect(() => {\r\n    if (!searchQuery) return;\r\n\r\n    getImages();\r\n    // eslint-disable-next-line\r\n  }, [searchQuery]);\r\n\r\n  // Принимаем с формы запрос и пишем в стейт + сбрасываем после отправки стейт\r\n  const onChangeQuery = query => {\r\n    setImages([]);\r\n    setPage(1);\r\n    setQuery(query);\r\n    setLoading(false);\r\n    setModal(false);\r\n    setlargeImage('');\r\n    setError(null);\r\n  };\r\n\r\n  // Получаем дату из фетча\r\n  const getImages = async () => {\r\n    setLoading(true);\r\n\r\n    try {\r\n      const { hits } = await fetchImages(searchQuery, currentPage);\r\n\r\n      setImages(prev => [...prev, ...hits]);\r\n\r\n      setPage(prevPage => prevPage + 1);\r\n\r\n      if (currentPage !== 1) {\r\n        scrollOnLoadButton();\r\n      }\r\n    } catch (error) {\r\n      console.log('Smth wrong with App fetch', error);\r\n      setError({ error });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Получает полное изображение, пишет его в стейт и открывает модалку\r\n  const handleGalleryItem = fullImageUrl => {\r\n    setlargeImage(fullImageUrl);\r\n    setModal(true);\r\n  };\r\n\r\n  // Переключение модалки\r\n  const toggleModal = () => {\r\n    setModal(prevModal => !prevModal);\r\n  };\r\n\r\n  // Скролл при клике на кнопку\r\n  const scrollOnLoadButton = () => {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: 'smooth',\r\n    });\r\n  };\r\n\r\n  const needToShowLoadMore = images.length > 0 && images.length >= 12; // Нужны доп проверки;\r\n\r\n  return (\r\n    <>\r\n      <Searchbar onSearch={onChangeQuery} />\r\n\r\n      {images.length < 1 && !isLoading && !error && (\r\n        <Message>\r\n          <h2>The gallery is empty</h2>\r\n          <p>Use search!</p>\r\n        </Message>\r\n      )}\r\n\r\n      <ImageGallery images={images} onImageClick={handleGalleryItem} />\r\n\r\n      {needToShowLoadMore && <Button onClick={getImages} />}\r\n\r\n      {showModal && (\r\n        <Modal onClose={toggleModal}>\r\n          <div className=\"Close-box\">\r\n            <IconButton onClick={toggleModal} aria-label=\"Close modal\">\r\n              <CloseIcon width=\"20px\" height=\"20px\" fill=\"#7e7b7b\" />\r\n            </IconButton>\r\n          </div>\r\n          <img src={largeImage} alt=\"\" className=\"Modal-image\" />\r\n        </Modal>\r\n      )}\r\n\r\n      {isLoading && <Loader />}\r\n\r\n      {error && (\r\n        <Message>\r\n          <h2>Oops!</h2>\r\n          <p>\r\n            Something go wrong. Please try again, or{' '}\r\n            <a href=\"/\">refresh the page</a>.\r\n          </p>\r\n        </Message>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App.jsx';\r\n\r\nimport 'modern-normalize/modern-normalize.css';\r\nimport './App.module.scss';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);"],"sourceRoot":""}